version: '3.7'
services:
  pennsieve:
    image: ${DOCKER_REGISTRY}/pennsieve-agent:${PYTHON_VERSION}-${PENNSIEVE_VERSION}
    build:
      context: .
      labels:
        org.label-schema.schema-version: "1.0"
        org.label-schema.build-date: "${BUILD_DATE}"
        org.label-schema.vcs-url: "${VCS_URL}"
        org.label-schema.vcs-ref: "${VCS_REF}"
      args:
        - PYTHON_VERSION=${PYTHON_VERSION}
        - PENNSIEVE_VERSION=${PENNSIEVE_VERSION}